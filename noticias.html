
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
<meta name="author" content="">

<title>Demo Scrolling Article</title>

	<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
	<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
 <link href="http://getbootstrap.com/examples/dashboard/dashboard.css" rel="stylesheet">
 <link rel="stylesheet" href="commons/css/style.css" type="text/css">
<style>
section{height:500px;}
	
</style>
  </head>

  <body>
	 
	  <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
	    <div class="container-fluid">
	      <div class="navbar-header">
	        <a class="navbar-brand" href="/Demo-Scrolling-Ads/">
	          ELM - Deportes
	        </a>
	      </div>
	    </div>
	  </nav>
			    <div class="container-fluid">
			      <div class="row">
			        
			        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
					    	<div class='ads'><img class='img-responsive' src='http://placehold.it/300x250'></div>
							<div class="scroll" id="resultados" data-ui="jscroll-default">
							<a href='noticias/1402479996.html' title="Deportes">Siguiente</a>
						</div>
			        </div>
			      </div>
			    </div>
				 
	        <div class="col-sm-3 col-md-2 sidebar">
				  <h5>Art√≠culos relacionados</h5>
	          <ul class="nav nav-sidebar inside" id="menu-center">
							<li role="presentation" class="noticia_1402553524 active"><a href="#noticia_1402553524">1</a></li>
		    	   		<li role="presentation" class="noticia_1402558867"><a href="#noticia_1402558867">2</a></li>
		    	   		<li role="presentation" class="noticia_1402511821"><a href="#noticia_1402511821">3</a></li>
		    	   		<li role="presentation" class="noticia_1402479996"><a href="#noticia_1402479996">4</a></li>
		    	   		<li role="presentation" class="noticia_1402478520"><a href="#noticia_1402478520">5</a></li>
				 </ul>
				 <h5>Todas las noticias de:</h5>
				 <ul class="nav nav-sidebar inside" id="menu-center">
				 	<li role="presentation" class="baloncesto" title="Baloncesto"><a href="#baloncesto">Baloncesto</a></li>
				</ul>
	        </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
	 <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	 <script src=".http://getbootstrap.com/assets/js/docs.min.js"></script>
	 <script src="commons/js/jscroll.js"></script>
	  <script src="commons/js/waypoints.min.js"></script>
	 <script>
	 var allvar = 'foo'; 

	 	 function inserth1Text(){
	 			page = $('.scroll a:last').attr('title');

	 			// Waypoints
	 			$("#noticia_"+page+"").waypoint(
	 				function(direction) {
	 					console.log(direction);
	 					if (direction ==='down') {
	 						var wayID = $(this).attr('id');
	 					} else {
						
	 						var wayID = $(this).attr('id');
	 					}
	 					console.log("allvar: "+allvar);
	 					$('li.'+allvar+'').removeClass('active');
					
	 					//$('li.active').removeClass('active');
					
	 					$('li.'+wayID+'').addClass('active');
	 					console.log("wayID: "+wayID);
					
	 					allvar = wayID;

	 				}, { offset: '40%' });      
	
		   
			
	 			history.replaceState('foo', page, ''+page+'.html');
			
	
			
	 	  }
	  
	  	 $('.inside li a').click(function(){  
		 
	  		element = $(this).attr('href').replace('#', '');
		
	  		history.replaceState('foo', element, element+'.html');
 		
	 		$( '#resultados' ).load( element+'.html' );
		 
	   		 $(this).parent().addClass('active'); 
	  		 $(this).parent().siblings().removeClass('active'); 
	 		 $(this).parent().parent().siblings().removeClass('active'); 
		
	  	 });
	
	 
	 	 $('.scroll').jscroll({
	     	 loadingHtml: '<div class="progress"><div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%"><span class="sr-only">Cargando</span></div></div>',
	 		 autoTrigger: true,
	 		 padding: 100,
	 		 callback: inserth1Text
	 });


	 
	 </script>

  </body>
</html>
